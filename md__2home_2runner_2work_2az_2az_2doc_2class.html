<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>az: Class</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">az
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md__2home_2runner_2work_2az_2az_2doc_2class.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">Class</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md17"></a> </p>
<h1><a class="anchor" id="autotoc_md18"></a>
Class and implementation</h1>
<p>Class (AZClass) contains all the semantic (what this type IS) and some behavioral (how this type BEHAVES) information of a type. For standalone types this is everything there is, but for interface types some parts of behavior are separated into implementation.</p>
<p>Class itself is an implementation, but this is purely semantic connection to maske all types accessible by implementation/instance combo. Tehnically the layouts of Class and Implementation are different:</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span><a class="code hl_struct" href="struct__AZImplementation.html">_AZImplementation</a> {</div>
<div class="line">    <span class="keyword">union </span>{</div>
<div class="line">        <span class="keyword">struct </span>{</div>
<div class="line">            uint32_t <a class="code hl_variable" href="struct__AZImplementation.html#a5be5e61f41cf9aac75dd9385a61389b5">flags</a>;</div>
<div class="line">            uint32_t <a class="code hl_variable" href="struct__AZImplementation.html#a5bb0e46122bdab3960f71a7472ea467c">type</a></div>
<div class="line">        };</div>
<div class="line">        <span class="comment">/* The class pointer is used in standalone implementations */</span></div>
<div class="line">        AZClass *<a class="code hl_variable" href="struct__AZImplementation.html#a8cf7bf3bf15e841b13842686df05ae80">klass</a>;</div>
<div class="line">    };</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span><a class="code hl_struct" href="struct__AZClass.html">_AZClass</a> {</div>
<div class="line">    <span class="comment">/* The flags/type struct part of the union is used in class */</span></div>
<div class="line">    AZImplementation <a class="code hl_variable" href="struct__AZClass.html#a25646b50a1b7946e0cce19b1588b0740">impl</a>;</div>
<div class="line">    ...</div>
<div class="line">};</div>
<div class="ttc" id="astruct__AZClass_html"><div class="ttname"><a href="struct__AZClass.html">_AZClass</a></div><div class="ttdoc">Semantics of a type.</div><div class="ttdef"><b>Definition</b> class.h:87</div></div>
<div class="ttc" id="astruct__AZClass_html_a25646b50a1b7946e0cce19b1588b0740"><div class="ttname"><a href="struct__AZClass.html#a25646b50a1b7946e0cce19b1588b0740">_AZClass::impl</a></div><div class="ttdeci">AZImplementation impl</div><div class="ttdef"><b>Definition</b> class.h:88</div></div>
<div class="ttc" id="astruct__AZImplementation_html"><div class="ttname"><a href="struct__AZImplementation.html">_AZImplementation</a></div><div class="ttdoc">Superclass of all implementations and classes.</div><div class="ttdef"><b>Definition</b> class.h:30</div></div>
<div class="ttc" id="astruct__AZImplementation_html_a5bb0e46122bdab3960f71a7472ea467c"><div class="ttname"><a href="struct__AZImplementation.html#a5bb0e46122bdab3960f71a7472ea467c">_AZImplementation::type</a></div><div class="ttdeci">uint32_t type</div><div class="ttdef"><b>Definition</b> class.h:38</div></div>
<div class="ttc" id="astruct__AZImplementation_html_a5be5e61f41cf9aac75dd9385a61389b5"><div class="ttname"><a href="struct__AZImplementation.html#a5be5e61f41cf9aac75dd9385a61389b5">_AZImplementation::flags</a></div><div class="ttdeci">uint32_t flags</div><div class="ttdoc">A meaningful combination of AZTypeFlags</div><div class="ttdef"><b>Definition</b> class.h:37</div></div>
<div class="ttc" id="astruct__AZImplementation_html_a8cf7bf3bf15e841b13842686df05ae80"><div class="ttname"><a href="struct__AZImplementation.html#a8cf7bf3bf15e841b13842686df05ae80">_AZImplementation::klass</a></div><div class="ttdeci">AZClass * klass</div><div class="ttdef"><b>Definition</b> class.h:40</div></div>
</div><!-- fragment --><p> Whether any given <code><a class="el" href="struct__AZImplementation.html" title="Superclass of all implementations and classes.">_AZImplementation</a></code> pointer is true implementation or a class can be determined by by the lowest bit in the first data field. It is set for proper class (flags have AZ_FLAG_IMPL_IS_CLASS set) and unset for an implementation (classes are aligned to at least 8 bytes and thus the 3 lowest order bits in class pointer are zeroes).</p>
<p>The actual class can thus always be derived from implementation:</p>
<div class="fragment"><div class="line">AZClass *klass = (impl-&gt;flags &amp; <a class="code hl_enumvalue" href="az_8h.html#aadac357486165e1e27426f9771e47408a84aeee1e7a91af868e42c4b15cb44089">AZ_FLAG_IMPL_IS_CLASS</a>) ? (AZClass *) impl : impl-&gt;klass;</div>
<div class="ttc" id="aaz_8h_html_aadac357486165e1e27426f9771e47408a84aeee1e7a91af868e42c4b15cb44089"><div class="ttname"><a href="az_8h.html#aadac357486165e1e27426f9771e47408a84aeee1e7a91af868e42c4b15cb44089">AZ_FLAG_IMPL_IS_CLASS</a></div><div class="ttdeci">@ AZ_FLAG_IMPL_IS_CLASS</div><div class="ttdoc">Marks that an implementation is a standalone class.</div><div class="ttdef"><b>Definition</b> az.h:123</div></div>
</div><!-- fragment --><p>This is done by convenience macro <code><a class="el" href="class_8h.html#a30c536e933394becb5ee7cc957ac56ca">AZ_CLASS_FROM_IMPL(impl)</a></code></p>
<p>The full <code><a class="el" href="struct__AZClass.html" title="Semantics of a type.">_AZClass</a></code> specification</p>
<h1><a class="anchor" id="autotoc_md19"></a>
Remarks</h1>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Feb 2 2026 16:02:43 for az by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
